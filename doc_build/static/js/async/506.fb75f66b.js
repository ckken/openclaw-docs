"use strict";(self.webpackChunkopenclaw_docs=self.webpackChunkopenclaw_docs||[]).push([["506"],{2943:function(n,e,d){d.r(e),d.d(e,{default:()=>i});var s=d(2676),r=d(453);function h(n){let e=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",h3:"h3",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",ul:"ul",li:"li",ol:"ol",strong:"strong"},(0,r.ah)(),n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.h1,{id:"tools-配置",children:["tools 配置",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#tools-配置",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"工具配置控制 Agent 可以使用的功能权限。"}),"\n",(0,s.jsxs)(e.h2,{id:"基本结构",children:["基本结构",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#基本结构",children:"#"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "tools": {\n    "profile": "full",\n    "allow": [...],\n    "deny": [...],\n    "web": { ... },\n    "exec": { ... },\n    "elevated": { ... }\n  }\n}\n'})}),"\n",(0,s.jsxs)(e.h2,{id:"工具配置项",children:["工具配置项",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#工具配置项",children:"#"})]}),"\n",(0,s.jsxs)(e.h3,{id:"全局配置",children:["全局配置",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#全局配置",children:"#"})]}),"\n",(0,s.jsxs)(e.table,{children:["\n",(0,s.jsxs)(e.thead,{children:["\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.th,{children:"配置项"}),"\n",(0,s.jsx)(e.th,{children:"类型"}),"\n",(0,s.jsx)(e.th,{children:"说明"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.tbody,{children:["\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"profile"})}),"\n",(0,s.jsx)(e.td,{children:"string"}),"\n",(0,s.jsx)(e.td,{children:"工具配置集 (minimal/coding/messaging/full)"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"allow"})}),"\n",(0,s.jsx)(e.td,{children:"array"}),"\n",(0,s.jsx)(e.td,{children:"允许的工具列表"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"deny"})}),"\n",(0,s.jsx)(e.td,{children:"array"}),"\n",(0,s.jsx)(e.td,{children:"禁止的工具列表"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"alsoAllow"})}),"\n",(0,s.jsx)(e.td,{children:"array"}),"\n",(0,s.jsx)(e.td,{children:"额外允许的工具"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"web-工具",children:["Web 工具",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#web-工具",children:"#"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "tools": {\n    "web": {\n      "search": {\n        "enabled": true,\n        "provider": "brave",\n        "apiKey": "YOUR_API_KEY"\n      },\n      "fetch": {\n        "enabled": true,\n        "maxChars": 100000\n      }\n    }\n  }\n}\n'})}),"\n",(0,s.jsxs)(e.table,{children:["\n",(0,s.jsxs)(e.thead,{children:["\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.th,{children:"配置项"}),"\n",(0,s.jsx)(e.th,{children:"类型"}),"\n",(0,s.jsx)(e.th,{children:"说明"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.tbody,{children:["\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"search.enabled"})}),"\n",(0,s.jsx)(e.td,{children:"boolean"}),"\n",(0,s.jsx)(e.td,{children:"是否启用搜索"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"search.provider"})}),"\n",(0,s.jsx)(e.td,{children:"string"}),"\n",(0,s.jsx)(e.td,{children:"搜索提供商 (brave/perplexity/grok)"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"fetch.enabled"})}),"\n",(0,s.jsx)(e.td,{children:"boolean"}),"\n",(0,s.jsx)(e.td,{children:"是否启用抓取"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"fetch.maxChars"})}),"\n",(0,s.jsx)(e.td,{children:"number"}),"\n",(0,s.jsx)(e.td,{children:"最大字符数"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"执行工具",children:["执行工具",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#执行工具",children:"#"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "tools": {\n    "exec": {\n      "host": "gateway",\n      "security": "allowlist",\n      "timeoutSec": 300,\n      "safeBins": ["git", "node", "pnpm"]\n    }\n  }\n}\n'})}),"\n",(0,s.jsxs)(e.table,{children:["\n",(0,s.jsxs)(e.thead,{children:["\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.th,{children:"配置项"}),"\n",(0,s.jsx)(e.th,{children:"类型"}),"\n",(0,s.jsx)(e.th,{children:"默认值"}),"\n",(0,s.jsx)(e.th,{children:"说明"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.tbody,{children:["\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"host"})}),"\n",(0,s.jsx)(e.td,{children:"string"}),"\n",(0,s.jsx)(e.td,{children:"gateway"}),"\n",(0,s.jsx)(e.td,{children:"执行主机 (sandbox/gateway/node)"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"security"})}),"\n",(0,s.jsx)(e.td,{children:"string"}),"\n",(0,s.jsx)(e.td,{children:"deny"}),"\n",(0,s.jsx)(e.td,{children:"安全模式 (deny/allowlist/full)"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"timeoutSec"})}),"\n",(0,s.jsx)(e.td,{children:"number"}),"\n",(0,s.jsx)(e.td,{children:"300"}),"\n",(0,s.jsx)(e.td,{children:"超时时间"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"safeBins"})}),"\n",(0,s.jsx)(e.td,{children:"array"}),"\n",(0,s.jsx)(e.td,{children:"[]"}),"\n",(0,s.jsx)(e.td,{children:"安全命令白名单"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"特权工具",children:["特权工具",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#特权工具",children:"#"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "tools": {\n    "elevated": {\n      "enabled": true,\n      "allowFrom": {\n        "telegram": [6490287374]\n      }\n    }\n  }\n}\n'})}),"\n",(0,s.jsxs)(e.table,{children:["\n",(0,s.jsxs)(e.thead,{children:["\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.th,{children:"配置项"}),"\n",(0,s.jsx)(e.th,{children:"类型"}),"\n",(0,s.jsx)(e.th,{children:"说明"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.tbody,{children:["\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"enabled"})}),"\n",(0,s.jsx)(e.td,{children:"boolean"}),"\n",(0,s.jsx)(e.td,{children:"是否启用"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"allowFrom"})}),"\n",(0,s.jsx)(e.td,{children:"object"}),"\n",(0,s.jsx)(e.td,{children:"允许的来源"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"工具配置文件",children:["工具配置文件",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#工具配置文件",children:"#"})]}),"\n",(0,s.jsxs)(e.table,{children:["\n",(0,s.jsxs)(e.thead,{children:["\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.th,{children:"Profile"}),"\n",(0,s.jsx)(e.th,{children:"说明"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.tbody,{children:["\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"minimal"})}),"\n",(0,s.jsx)(e.td,{children:"基础工具"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"coding"})}),"\n",(0,s.jsx)(e.td,{children:"编程工具"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"messaging"})}),"\n",(0,s.jsx)(e.td,{children:"消息工具"}),"\n"]}),"\n",(0,s.jsxs)(e.tr,{children:["\n",(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"full"})}),"\n",(0,s.jsx)(e.td,{children:"全部工具"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"工具列表",children:["工具列表",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#工具列表",children:"#"})]}),"\n",(0,s.jsxs)(e.h3,{id:"文件操作",children:["文件操作",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#文件操作",children:"#"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"read"})," - 读取文件"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"write"})," - 写入文件"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"edit"})," - 编辑文件"]}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"命令执行",children:["命令执行",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#命令执行",children:"#"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"exec"})," - 执行命令"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"process"})," - 进程管理"]}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"浏览器",children:["浏览器",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#浏览器",children:"#"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"browser"})," - 浏览器控制"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"browser.snapshot"})," - 页面快照"]}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"网络",children:["网络",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#网络",children:"#"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"web_search"})," - 网络搜索"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"web_fetch"})," - 网页抓取"]}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"消息",children:["消息",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#消息",children:"#"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"message.send"})," - 发送消息"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"message.react"})," - 添加反应"]}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"其他",children:["其他",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#其他",children:"#"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"gateway"})," - 网关控制"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"cron"})," - 定时任务"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"nodes"})," - 节点控制"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"安全建议",children:["安全建议",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#安全建议",children:"#"})]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"最小权限"})," - 使用 ",(0,s.jsx)(e.code,{children:"minimal"})," 或 ",(0,s.jsx)(e.code,{children:"coding"})," profile"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"限制 exec"})," - 设置 ",(0,s.jsx)(e.code,{children:'security: "deny"'})," 或 ",(0,s.jsx)(e.code,{children:'"allowlist"'})]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"禁用 elevated"})," - 生产环境关闭特权工具"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"限制 web"})," - 只启用必要的 web 工具"]}),"\n"]})]})}function l(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,r.ah)(),n.components);return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(h,{...n})}):h(n)}let i=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["schema%2Ftools.mdx"]={toc:[{text:"基本结构",id:"基本结构",depth:2},{text:"工具配置项",id:"工具配置项",depth:2},{text:"全局配置",id:"全局配置",depth:3},{text:"Web 工具",id:"web-工具",depth:3},{text:"执行工具",id:"执行工具",depth:3},{text:"特权工具",id:"特权工具",depth:3},{text:"工具配置文件",id:"工具配置文件",depth:3},{text:"工具列表",id:"工具列表",depth:2},{text:"文件操作",id:"文件操作",depth:3},{text:"命令执行",id:"命令执行",depth:3},{text:"浏览器",id:"浏览器",depth:3},{text:"网络",id:"网络",depth:3},{text:"消息",id:"消息",depth:3},{text:"其他",id:"其他",depth:3},{text:"安全建议",id:"安全建议",depth:2}],title:"tools 配置",headingTitle:"tools 配置",frontmatter:{}}}}]);