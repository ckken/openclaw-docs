"use strict";(self.webpackChunkopenclaw_docs=self.webpackChunkopenclaw_docs||[]).push([["684"],{4933:function(n,e,d){d.r(e),d.d(e,{default:()=>s});var r=d(2676),h=d(453);function c(n){let e=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",h3:"h3",ol:"ol",li:"li"},(0,h.ah)(),n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"bindings-配置",children:["bindings 配置",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#bindings-配置",children:"#"})]}),"\n",(0,r.jsx)(e.p,{children:"绑定配置决定消息如何路由到不同的 Agent。"}),"\n",(0,r.jsxs)(e.h2,{id:"基本结构",children:["基本结构",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#基本结构",children:"#"})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "bindings": [\n    {\n      "agentId": "main",\n      "match": {\n        "channel": "telegram",\n        "accountId": "default"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(e.h2,{id:"配置项",children:["配置项",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#配置项",children:"#"})]}),"\n",(0,r.jsxs)(e.table,{children:["\n",(0,r.jsxs)(e.thead,{children:["\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.th,{children:"配置项"}),"\n",(0,r.jsx)(e.th,{children:"类型"}),"\n",(0,r.jsx)(e.th,{children:"必需"}),"\n",(0,r.jsx)(e.th,{children:"说明"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.tbody,{children:["\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"agentId"})}),"\n",(0,r.jsx)(e.td,{children:"string"}),"\n",(0,r.jsx)(e.td,{children:"是"}),"\n",(0,r.jsx)(e.td,{children:"目标 Agent ID"}),"\n"]}),"\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"match"})}),"\n",(0,r.jsx)(e.td,{children:"object"}),"\n",(0,r.jsx)(e.td,{children:"是"}),"\n",(0,r.jsx)(e.td,{children:"匹配条件"}),"\n"]}),"\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"match.channel"})}),"\n",(0,r.jsx)(e.td,{children:"string"}),"\n",(0,r.jsx)(e.td,{children:"是"}),"\n",(0,r.jsx)(e.td,{children:"通道类型"}),"\n"]}),"\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"match.accountId"})}),"\n",(0,r.jsx)(e.td,{children:"string"}),"\n",(0,r.jsx)(e.td,{children:"否"}),"\n",(0,r.jsx)(e.td,{children:"账户 ID"}),"\n"]}),"\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"match.peer.kind"})}),"\n",(0,r.jsx)(e.td,{children:"string"}),"\n",(0,r.jsx)(e.td,{children:"否"}),"\n",(0,r.jsx)(e.td,{children:"消息类型 (direct/group/channel/dm)"}),"\n"]}),"\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"match.peer.id"})}),"\n",(0,r.jsx)(e.td,{children:"string"}),"\n",(0,r.jsx)(e.td,{children:"否"}),"\n",(0,r.jsx)(e.td,{children:"消息来源 ID"}),"\n"]}),"\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"match.guildId"})}),"\n",(0,r.jsx)(e.td,{children:"string"}),"\n",(0,r.jsx)(e.td,{children:"否"}),"\n",(0,r.jsx)(e.td,{children:"Discord 服务器 ID"}),"\n"]}),"\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"match.teamId"})}),"\n",(0,r.jsx)(e.td,{children:"string"}),"\n",(0,r.jsx)(e.td,{children:"否"}),"\n",(0,r.jsx)(e.td,{children:"Slack team ID"}),"\n"]}),"\n",(0,r.jsxs)(e.tr,{children:["\n",(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"match.roles"})}),"\n",(0,r.jsx)(e.td,{children:"array"}),"\n",(0,r.jsx)(e.td,{children:"否"}),"\n",(0,r.jsx)(e.td,{children:"角色列表"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"匹配示例",children:["匹配示例",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#匹配示例",children:"#"})]}),"\n",(0,r.jsxs)(e.h3,{id:"按通道匹配",children:["按通道匹配",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#按通道匹配",children:"#"})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "bindings": [\n    {\n      "agentId": "main",\n      "match": {\n        "channel": "telegram"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(e.h3,{id:"按账户匹配",children:["按账户匹配",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#按账户匹配",children:"#"})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "bindings": [\n    {\n      "agentId": "main",\n      "match": {\n        "channel": "telegram",\n        "accountId": "default"\n      }\n    },\n    {\n      "agentId": "coder",\n      "match": {\n        "channel": "telegram",\n        "accountId": "coder"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(e.h3,{id:"按群组匹配",children:["按群组匹配",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#按群组匹配",children:"#"})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "bindings": [\n    {\n      "agentId": "main",\n      "match": {\n        "channel": "discord",\n        "guildId": "123456789"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(e.h3,{id:"按消息类型匹配",children:["按消息类型匹配",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#按消息类型匹配",children:"#"})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "bindings": [\n    {\n      "agentId": "main",\n      "match": {\n        "channel": "telegram",\n        "peer": {\n          "kind": "direct"\n        }\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(e.h2,{id:"匹配优先级",children:["匹配优先级",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#匹配优先级",children:"#"})]}),"\n",(0,r.jsx)(e.p,{children:"匹配按照数组顺序进行，第一个匹配的规则生效。"}),"\n",(0,r.jsx)(e.p,{children:"建议将更具体的规则放在前面："}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"特定账户/群组"}),"\n",(0,r.jsx)(e.li,{children:"特定通道"}),"\n",(0,r.jsx)(e.li,{children:"默认规则"}),"\n"]})]})}function i(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,h.ah)(),n.components);return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(c,{...n})}):c(n)}let s=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["schema%2Fbindings.mdx"]={toc:[{text:"基本结构",id:"基本结构",depth:2},{text:"配置项",id:"配置项",depth:2},{text:"匹配示例",id:"匹配示例",depth:2},{text:"按通道匹配",id:"按通道匹配",depth:3},{text:"按账户匹配",id:"按账户匹配",depth:3},{text:"按群组匹配",id:"按群组匹配",depth:3},{text:"按消息类型匹配",id:"按消息类型匹配",depth:3},{text:"匹配优先级",id:"匹配优先级",depth:2}],title:"bindings 配置",headingTitle:"bindings 配置",frontmatter:{}}}}]);